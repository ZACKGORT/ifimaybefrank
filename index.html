<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Zack Gort - Twenty Years of Bootstrap Design">
    <title>Zack Gort · Bootstrap Startup · Twenty Years</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,500;0,600;1,400&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
:root {
    --bg-color: #000000;
    --ink: #ffffff;
    --ink-2: #b8b8b8;
    --ink-3: #808080;
    --accent: #daa520;
    --curve-k: 1;
    --vig-opacity: 0.85;
    --vig-inner: 30%;
    --vig-mid: 75%;
    --vig-outer: 100%;
    --edge-blur: 6px;
    --edge-mask-i: 65%;
    --edge-mask-o: 80%;
    --z-content: 0;
    --z-grain: 149;
    --z-blur: 150;
    --z-vig: 151;
    --z-ui: 220;
    --z-dropdown: 230;
    --z-cursor: 9999;
    --bracket-color: #8b6f47;
    --bracket-hover: #daa520;
    --bracket-bg: rgba(218, 165, 32, 0.04);
    
    --text-parallax-strength: 0.03;
    --image-parallax-strength: 0.15;
    --center-magnet-strength: 0.25;
}

body.light-mode {
    --bg-color: #f5f5f0;
    --ink: #1a1a1a;
    --ink-2: #4a4a4a;
    --ink-3: #707070;
    --accent: #b8860b;
    --bracket-color: #8b6f47;
    --bracket-hover: #b8860b;
}

body.light-mode .vignette {
    background: radial-gradient(120% 90% at 50% 50%, #fff0 var(--vig-inner), rgb(245 245 240 / 0.35) var(--vig-mid), rgb(245 245 240 / 0.65) var(--vig-outer));
}

body.light-mode::after {
    opacity: 0.03;
}

body.light-mode .sentence.active {
    background: rgba(255, 255, 255, 0.85);
    text-shadow: 0 0 20px rgba(184, 134, 11, 0.2);
}

body.light-mode .chapter-dropdown {
    background: rgba(245, 245, 240, 0.95);
    border-color: rgba(0, 0, 0, 0.1);
}

body.light-mode .chapter-dropdown-header {
    border-bottom-color: rgba(0, 0, 0, 0.08);
}

body.light-mode .chapter-item:hover {
    background: rgba(184, 134, 11, 0.08);
}

body.light-mode .chapter-item.active {
    background: rgba(184, 134, 11, 0.12);
}

body.light-mode #cursor {
    border-color: rgba(0, 0, 0, 0.5);
    mix-blend-mode: normal;
}

body.light-mode .cursor-image-preview {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
}

body.layout-fullview .text-layer {
    width: 95%;
    margin: 0 auto;
    max-width: 1400px;
}

body.layout-fullview .stream {
    color: rgba(255, 255, 255, 0.85);
}

body.light-mode.layout-fullview .stream {
    color: rgba(26, 26, 26, 0.85);
}

body.layout-fullview .cursor-image-preview {
    display: block;
}

body.layout-fullview .hover-image {
    display: none;
}

body.layout-splitview .text-layer {
    width: 50%;
    margin: 0;
    padding-left: 6vw;
}

body.layout-splitview .stream {
    color: rgba(255, 255, 255, 0.9);
    font-size: clamp(16px, 2vw, 28px);
}

body.light-mode.layout-splitview .stream {
    color: rgba(26, 26, 26, 0.9);
}

body.layout-splitview .cursor-image-preview {
    display: none;
}

body.layout-splitview .hover-image {
    display: block;
    position: fixed;
    left: 72%;
    top: 50%;
    width: 45vw;
    height: 34vw;
    opacity: 0;
    transition: opacity 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    border-radius: 8px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    pointer-events: none;
    z-index: 1;
}

body.layout-splitview .hover-image.active {
    opacity: 0.6;
}

body.layout-splitview .hover-image img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
}

.scroll-progress {
    position: fixed;
    right: 30px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    z-index: var(--z-ui);
    pointer-events: auto;
}

.scroll-progress-bar-container {
    width: 2px;
    height: 200px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 1px;
    position: relative;
}

body.light-mode .scroll-progress-bar-container {
    background: rgba(0, 0, 0, 0.1);
}

.scroll-progress-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background: var(--accent);
    border-radius: 1px;
    transition: height 0.3s ease, width 0.3s ease;
}

.nav-button {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--ink-3);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    pointer-events: auto;
}

body.light-mode .nav-button {
    background: rgba(0, 0, 0, 0.05);
    border-color: rgba(0, 0, 0, 0.1);
}

.nav-button:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--accent);
    color: var(--accent);
    transform: scale(1.1);
}

body.light-mode .nav-button:hover {
    background: rgba(0, 0, 0, 0.1);
}

.nav-button:active {
    transform: scale(0.95);
}

.nav-button svg {
    width: 16px;
    height: 16px;
    fill: currentColor;
}

.prev-sentence {
    margin-bottom: 8px;
}

.next-sentence {
    margin-top: 8px;
}

.prev-chapter {
    margin-bottom: 5px;
}

.next-chapter {
    margin-top: 5px;
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    color-scheme: dark;
    -webkit-text-size-adjust: 100%;
}

body.light-mode {
    color-scheme: light;
}

body,
html {
    height: 100%;
    margin: 0;
    overflow-x: hidden;
}

body {
    background: var(--bg-color);
    color: var(--ink);
    font: 18px/1.8 'Crimson Text', Georgia, serif;
    overflow: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    cursor: none;
    transition: background-color 0.3s ease, color 0.3s ease;
}

body::-webkit-scrollbar {
    display: none;
}

body {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

::selection {
    background: rgba(218, 165, 32, 0.25);
    color: #fff;
}

body.light-mode ::selection {
    background: rgba(184, 134, 11, 0.25);
    color: #1a1a1a;
}

.edge-blur {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: var(--z-blur);
    backdrop-filter: blur(var(--edge-blur));
    -webkit-backdrop-filter: blur(var(--edge-blur));
    mask: radial-gradient(100% 64% at 50% 50%, transparent var(--edge-mask-i), rgb(255 255 255 / 0.98) var(--edge-mask-o));
    -webkit-mask: radial-gradient(100% 64% at 50% 50%, transparent var(--edge-mask-i), rgb(255 255 255 / 0.98) var(--edge-mask-o));
}

.vignette {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: var(--z-vig);
    background: radial-gradient(120% 90% at 50% 50%, #fff0 var(--vig-inner), rgb(0 0 0 / 0.55) var(--vig-mid), rgb(0 0 0 / 0.9) var(--vig-outer));
    opacity: calc(var(--vig-opacity) * var(--curve-k));
    transition: background 0.3s ease;
}

body::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: var(--z-grain);
    opacity: 0.08;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.45'/%3E%3C/svg%3E");
    background-size: 120px 120px;
    transition: opacity 0.3s ease;
}

.curved {
    position: fixed;
    inset: 0;
    transform-style: preserve-3d;
    transform: perspective(1000px) translateZ(calc(-200px * var(--curve-k))) scale(calc(1 + var(--curve-k) * 0.06));
    will-change: transform;
    z-index: var(--z-content);
}

.parallax-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.text-layer {
    position: relative;
    z-index: 10;
    padding: 15vh 8vw 25vh;
    max-width: 85%;
    margin: 0 auto;
    transform-style: preserve-3d;
    will-change: transform;
    transition: transform 0.1s linear;
}

.stream {
    font-size: clamp(18px, 2.5vw, 32px);
    line-height: 1.8;
    letter-spacing: -0.01em;
    max-width: 100%;
    color: rgba(255, 255, 255, 0.85);
    transition: color 0.3s ease;
}

.sentence {
    display: inline;
    transition: opacity 0.3s ease, color 0.3s ease;
    cursor: none;
    position: relative;
    z-index: 2;
    letter-spacing: -0.01em;
}

.sentence.active {
    color: #fff;
    opacity: 1;
    text-shadow: 0 0 20px rgba(218, 165, 32, 0.3);
    background: rgba(0, 0, 0, 0.85);
    padding: 2px 6px;
    border-radius: 2px;
}

body.light-mode .sentence.active {
    color: #1a1a1a;
}

.sentence.dimmed {
    opacity: 0.65;
    color: rgba(255, 255, 255, 0.65);
}

body.light-mode .sentence.dimmed {
    color: rgba(26, 26, 26, 0.65);
}

.chapter-break {
    display: block;
    margin: 3em 0 2em;
    padding: 1.5em 0;
    border-top: 1px solid rgba(218, 165, 32, 0.2);
    border-bottom: 1px solid rgba(218, 165, 32, 0.2);
    text-align: center;
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--accent);
    opacity: 0.6;
    cursor: pointer;
    transition: all 0.3s ease;
    pointer-events: auto;
}

.chapter-break:hover {
    opacity: 1;
    background: rgba(218, 165, 32, 0.05);
    padding: 1.5em 1em;
}

.chapter-break .chapter-number {
    display: block;
    font-size: 0.7em;
    margin-bottom: 0.5em;
    color: var(--ink-3);
}

.chapter-break .chapter-title {
    display: block;
    font-size: 1.2em;
    font-weight: 700;
    letter-spacing: 0.1em;
}

.bracket-trigger {
    all: unset;
    cursor: none;
    font-family: 'Space Mono', 'Courier New', monospace;
    font-size: 0.65em;
    color: var(--bracket-color);
    letter-spacing: 0.02em;
    transition: all 0.2s ease;
    border-bottom: 1px dotted rgba(139, 111, 71, 0.5);
    padding-bottom: 1px;
    display: inline;
    vertical-align: baseline;
    line-height: inherit;
    margin: 0 0.1em;
}

.bracket-trigger:hover {
    color: var(--bracket-hover);
    opacity: 1;
    border-bottom-color: var(--bracket-hover);
}

.bracket-trigger.expanded {
    opacity: 0.5;
}

.bracket-content {
    display: inline;
    font-size: 0.8em;
    color: rgba(184, 184, 184, 0.8);
    font-style: italic;
    line-height: inherit;
    padding-left: 0.2em;
    margin-left: 0.2em;
    border-left: 1px solid rgba(218, 165, 32, 0.5);
    padding-right: 0.2em;
    background: rgba(218, 165, 32, 0.02);
    animation: bracketFadeIn 0.3s ease-out;
}

body.light-mode .bracket-content {
    color: rgba(74, 74, 74, 0.8);
}

@keyframes bracketFadeIn {
    from {
        opacity: 0;
        transform: translateY(-4px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.image-trigger {
    position: relative;
    text-decoration: none;
    border-bottom: 1px dotted var(--accent);
    cursor: help;
    transition: all 0.2s ease;
    opacity: 0.9;
}

.image-trigger:hover {
    color: var(--accent);
    border-bottom-style: solid;
    opacity: 1;
}

.header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: var(--z-ui);
    padding: clamp(16px, 2vh, 28px) clamp(20px, 4vw, 50px);
    display: flex;
    justify-content: space-between;
    align-items: center;
    pointer-events: none;
}

.brand-container {
    position: relative;
    pointer-events: auto;
}

.brand {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--ink-3);
    padding: 6px 10px;
    border-radius: 3px;
    transition: all 0.2s ease;
    text-decoration: none;
    background: rgba(255, 255, 255, 0.015);
    border: 1px solid rgba(255, 255, 255, 0.06);
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
}

body.light-mode .brand {
    background: rgba(0, 0, 0, 0.015);
    border-color: rgba(0, 0, 0, 0.06);
}

.brand:hover {
    background: rgba(255, 255, 255, 0.04);
    color: var(--ink);
    border-color: var(--accent);
}

body.light-mode .brand:hover {
    background: rgba(0, 0, 0, 0.04);
}

.brand:active {
    transform: scale(0.95);
}

.brand-dropdown-icon {
    font-size: 10px;
    transition: transform 0.2s ease;
}

.brand.open .brand-dropdown-icon {
    transform: rotate(180deg);
}

.chapter-dropdown {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    min-width: 280px;
    background: rgba(10, 10, 10, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 8px 0;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
    z-index: var(--z-dropdown);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.chapter-dropdown.open {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.chapter-dropdown-header {
    padding: 12px 16px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    margin-bottom: 8px;
}

.chapter-dropdown-header h3 {
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--ink-3);
    margin: 0;
    font-weight: 400;
}

.chapter-dropdown-list {
    max-height: 60vh;
    overflow-y: auto;
    padding: 0;
    margin: 0;
    list-style: none;
}

.chapter-dropdown-list::-webkit-scrollbar {
    width: 4px;
}

.chapter-dropdown-list::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
}

body.light-mode .chapter-dropdown-list::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
}

.chapter-dropdown-list::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 2px;
}

body.light-mode .chapter-dropdown-list::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.15);
}

.chapter-item {
    padding: 10px 16px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 12px;
}

.chapter-item:hover {
    background: rgba(218, 165, 32, 0.08);
}

.chapter-item.active {
    background: rgba(218, 165, 32, 0.12);
}

.chapter-item-number {
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    color: var(--ink-3);
    min-width: 40px;
}

.chapter-item-title {
    font-family: 'Crimson Text', serif;
    font-size: 14px;
    color: var(--ink-2);
    font-style: italic;
}

.chapter-item.active .chapter-item-title {
    color: var(--accent);
    font-style: normal;
}

.chapter-item-progress {
    margin-left: auto;
    font-family: 'Space Mono', monospace;
    font-size: 9px;
    color: var(--ink-3);
    background: rgba(255, 255, 255, 0.05);
    padding: 2px 6px;
    border-radius: 2px;
}

body.light-mode .chapter-item-progress {
    background: rgba(0, 0, 0, 0.05);
}

.header-controls {
    display: flex;
    align-items: center;
    gap: 12px;
    pointer-events: auto;
}

.theme-toggle {
    background: rgba(255, 255, 255, 0.015);
    border: 1px solid rgba(255, 255, 255, 0.06);
    padding: 8px 12px;
    border-radius: 3px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--ink-3);
    font-size: 16px;
}

body.light-mode .theme-toggle {
    background: rgba(0, 0, 0, 0.015);
    border-color: rgba(0, 0, 0, 0.06);
}

.theme-toggle:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(255, 255, 255, 0.12);
    color: var(--accent);
}

body.light-mode .theme-toggle:hover {
    background: rgba(0, 0, 0, 0.04);
    border-color: rgba(0, 0, 0, 0.12);
}

.theme-toggle:active {
    transform: scale(0.95);
}

.curve-control {
    pointer-events: auto;
    display: flex;
    align-items: center;
    gap: 10px;
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    color: var(--ink-3);
    background: rgba(255, 255, 255, 0.015);
    border: 1px solid rgba(255, 255, 255, 0.06);
    padding: 6px 12px;
    border-radius: 3px;
}

body.light-mode .curve-control {
    background: rgba(0, 0, 0, 0.015);
    border-color: rgba(0, 0, 0, 0.06);
}

.curve-slider {
    width: 70px;
    height: 2px;
    background: rgba(255, 255, 255, 0.12);
    border-radius: 2px;
    appearance: none;
    -webkit-appearance: none;
    cursor: pointer;
    outline: none;
}

body.light-mode .curve-slider {
    background: rgba(0, 0, 0, 0.12);
}

.curve-slider::-webkit-slider-thumb {
    appearance: none;
    -webkit-appearance: none;
    width: 10px;
    height: 10px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    transition: transform 0.15s;
}

.curve-slider::-webkit-slider-thumb:hover {
    transform: scale(1.15);
}

.curve-slider::-moz-range-thumb {
    width: 10px;
    height: 10px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    transition: transform 0.15s;
}

.curve-slider::-moz-range-thumb:hover {
    transform: scale(1.15);
}

.layout-toggle {
    pointer-events: auto;
}

.layout-button {
    background: rgba(255, 255, 255, 0.015);
    border: 1px solid rgba(255, 255, 255, 0.06);
    padding: 8px 12px;
    border-radius: 3px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

body.light-mode .layout-button {
    background: rgba(0, 0, 0, 0.015);
    border-color: rgba(0, 0, 0, 0.06);
}

.layout-button:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(255, 255, 255, 0.12);
}

body.light-mode .layout-button:hover {
    background: rgba(0, 0, 0, 0.04);
    border-color: rgba(0, 0, 0, 0.12);
}

.layout-button:active {
    transform: scale(0.95);
}

.layout-icon {
    width: 24px;
    height: 20px;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.layout-icon.fullview::before,
.layout-icon.fullview::after {
    content: '';
    display: block;
    width: 100%;
    height: 6px;
    background: var(--ink-3);
    border-radius: 1px;
    transition: all 0.3s ease;
}

.layout-icon.fullview::after {
    opacity: 0.5;
    margin-top: -4px;
}

.layout-icon.splitview::before,
.layout-icon.splitview::after {
    content: '';
    display: block;
    border-radius: 1px;
    transition: all 0.3s ease;
}

.layout-icon.splitview::before {
    width: 10px;
    height: 100%;
    background: var(--ink-3);
}

.layout-icon.splitview::after {
    width: 10px;
    height: 100%;
    background: var(--ink-3);
    margin-left: 4px;
    opacity: 0.5;
}

#cursor {
    position: fixed;
    width: 20px;
    height: 20px;
    border: 1px solid rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    pointer-events: none;
    z-index: var(--z-cursor);
    transform: translate(-50%, -50%);
    transition: width 0.25s, height 0.25s, opacity 0.25s;
    mix-blend-mode: difference;
    opacity: 1;
}

#cursor.hovering {
    width: 36px;
    height: 36px;
    background-color: rgba(255, 255, 255, 0.08);
    border-color: var(--accent);
}

body.light-mode #cursor.hovering {
    background-color: rgba(0, 0, 0, 0.08);
}

#cursor.pointer {
    width: 14px;
    height: 14px;
    background-color: rgba(255, 255, 255, 0.7);
}

body.light-mode #cursor.pointer {
    background-color: rgba(0, 0, 0, 0.7);
}

#cursor.has-image {
    opacity: 0;
}

.cursor-image-preview {
    position: fixed;
    pointer-events: none;
    z-index: var(--z-cursor);
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: opacity 0.3s ease, width 0.3s ease, height 0.3s ease;
    border-radius: 4px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    width: 120px;
    height: 90px;
    object-fit: cover;
}

.cursor-image-preview.active {
    opacity: 1;
}

.cursor-image-preview.enlarged {
    width: 600px;
    height: 450px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    z-index: calc(var(--z-cursor) + 1);
}

.hover-image {
    display: none;
}

.image-layer {
    position: fixed;
    inset: 0;
    z-index: 5;
    pointer-events: none;
}

.scroll-hint {
    position: fixed;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    z-index: var(--z-ui);
    opacity: 0;
    animation: fadeInOut 4s ease-in-out;
    pointer-events: none;
}

.scroll-hint-icon {
    width: 24px;
    height: 24px;
    border-right: 2px solid rgba(255, 255, 255, 0.4);
    border-bottom: 2px solid rgba(255, 255, 255, 0.4);
    transform: rotate(45deg);
    animation: bounce 1.5s ease-in-out infinite;
}

body.light-mode .scroll-hint-icon {
    border-color: rgba(0, 0, 0, 0.4);
}

.scroll-hint-text {
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--ink-3);
}

@keyframes bounce {
    0%, 100% {
        transform: rotate(45deg) translateY(0);
    }
    50% {
        transform: rotate(45deg) translateY(8px);
    }
}

@keyframes fadeInOut {
    0%, 100% {
        opacity: 0;
    }
    20%, 80% {
        opacity: 1;
    }
}

@media (max-width: 768px) {
    .text-layer {
        padding: 12vh 6vw 20vh;
        max-width: 95%;
    }
    
    .stream {
        font-size: clamp(16px, 4vw, 28px);
    }

    .curve-control {
        font-size: 9px;
        padding: 5px 8px;
    }

    .curve-slider {
        width: 50px;
    }

    .chapter-dropdown {
        min-width: 240px;
        left: -10px;
    }

    body.layout-splitview .text-layer {
        width: 100%;
        padding-left: 6vw;
        padding-right: 6vw;
    }

    body.layout-splitview .scroll-progress {
        bottom: 20px;
        top: auto;
        transform: none;
        flex-direction: row;
        right: 50%;
        transform: translateX(50%);
        gap: 12px;
    }

    body.layout-splitview .scroll-progress-bar-container {
        width: 100px;
        height: 2px;
        order: 2;
    }

    body.layout-splitview .scroll-progress-bar {
        left: 0;
        bottom: 0;
        width: 0;
        height: 100%;
        transition: width 0.3s ease;
    }

    body.layout-splitview .prev-sentence {
        margin-bottom: 0;
        margin-right: 8px;
        order: 1;
    }

    body.layout-splitview .next-sentence {
        margin-top: 0;
        margin-left: 8px;
        order: 3;
    }

    body.layout-splitview .prev-chapter,
    body.layout-splitview .next-chapter {
        display: none;
    }

    body.layout-splitview .hover-image {
        position: absolute;
        left: 50%;
        top: -180px;
        transform: translateX(-50%);
        width: 90vw;
        height: 67.5vw;
        max-width: 400px;
        max-height: 300px;
    }

    body.layout-splitview .hover-image.active {
        opacity: 0.85;
    }
}

@media (prefers-reduced-motion: reduce) {
    .edge-blur {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
    }
    
    * {
        animation: none !important;
        transition: none !important;
    }
}
    </style>
</head>
<body>
    <div id="cursor" aria-hidden="true"></div>
    <img class="cursor-image-preview" id="cursorImage" alt="Preview" aria-hidden="true">
    
    <header class="header">
        <div class="brand-container">
            <div class="brand" id="brandLogo" aria-label="Open chapter menu">
                <span id="currentChapterText">Zack Gort · Bootstrap</span>
                <span class="brand-dropdown-icon">▼</span>
            </div>
            <div class="chapter-dropdown" id="chapterDropdown" aria-hidden="true">
                <div class="chapter-dropdown-header">
                    <h3>Chapters</h3>
                </div>
                <ul class="chapter-dropdown-list" id="chapterDropdownList">
                    <!-- Chapters will be dynamically inserted here -->
                </ul>
            </div>
        </div>
        <div class="header-controls">
            <button 
                id="themeToggle" 
                class="theme-toggle"
                aria-label="Toggle light/dark mode"
                title="Toggle theme"
            >
                ☀️
            </button>
            <div class="curve-control">
                <label for="curveSlider">Lens</label>
                <input 
                    type="range" 
                    class="curve-slider" 
                    id="curveSlider"
                    min="0" 
                    max="1" 
                    step="0.01" 
                    value="1"
                    aria-label="Adjust lens curvature effect"
                >
            </div>
            <div class="layout-toggle">
                <button 
                    id="layoutToggle" 
                    class="layout-button"
                    aria-label="Toggle layout mode"
                    title="Switch between layered and split layout"
                >
                    <span class="layout-icon fullview"></span>
                </button>
            </div>
        </div>
    </header>

    <div class="edge-blur" aria-hidden="true"></div>
    <div class="vignette" aria-hidden="true"></div>

    <div class="scroll-progress" aria-label="Navigation controls">
        <button class="nav-button prev-chapter" id="prevChapterBtn" title="Previous Chapter ([)" aria-label="Previous Chapter">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.41 7.41L10.83 12l4.58 4.59L14 18l-6-6 6-6 1.41 1.41z"/>
            </svg>
        </button>
        
        <button class="nav-button prev-sentence" id="prevSentenceBtn" title="Previous Sentence (↑/k)" aria-label="Previous Sentence">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
            </svg>
        </button>
        
        <div class="scroll-progress-bar-container">
            <div class="scroll-progress-bar" id="scrollProgressBar"></div>
        </div>
        
        <button class="nav-button next-sentence" id="nextSentenceBtn" title="Next Sentence (↓/j)" aria-label="Next Sentence">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"/>
            </svg>
        </button>
        
        <button class="nav-button next-chapter" id="nextChapterBtn" title="Next Chapter (])" aria-label="Next Chapter">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
            </svg>
        </button>
    </div>

    <div class="scroll-hint" aria-hidden="true">
        <div class="scroll-hint-icon"></div>
        <span class="scroll-hint-text">Scroll to navigate · Spacebar to enlarge</span>
    </div>

    <main class="curved">
        <div class="parallax-container">
            <div id="imageLayer" class="image-layer">
                <div id="hoverImage" class="hover-image" role="tooltip" aria-hidden="true">
                    <img src="" alt="" id="hoverImageImg" loading="lazy">
                </div>
            </div>
            
            <div id="textLayer" class="text-layer">
                <article class="stream" id="stream" role="article"></article>
            </div>
        </div>
    </main>

    <script>
const CURSOR_SMOOTHING = 0.35;
const TEXT_PARALLAX_STRENGTH = 0.03;
const PARALLAX_DAMPING = 0.1;
const SCROLL_THRESHOLD = 30;
const SCROLL_COOLDOWN = 100;
let scrollCooldownActive = false;
let spacebarPressed = false;

const imageMap = {
    'career journey': 'https://i.ibb.co/sqUSgc1xGQxZdQS4L7fSw/bootstrap.png',
    'bootstrap startup': 'https://i.ibb.co/sqUSgc1xGQxZdQS4L7fSw/bootstrap.png',
    'non-linear': 'https://i.ibb.co/sqUSgc1xGQxZdQS4L7fSw/bootstrap.png',
    'Pratt Institute': 'https://i.ibb.co/r2nhMymB/pratt.webp',
    'art school': 'https://i.ibb.co/r2nhMymB/pratt.webp',
    'built my first computer': 'https://i.ibb.co/ZpyOMlmzMa0rPlNY3KXA/computer.png',
    'pirated copies': 'https://i.ibb.co/ZpyOMlmzMa0rPlNY3KXA/computer.png',
    'studied typography': 'https://i.ibb.co/h9ljVOzzRTIrakgaDSWvQ/books.png',
    'reading books': 'https://i.ibb.co/h9ljVOzzRTIrakgaDSWvQ/books.png',
    'examining magazines': 'https://i.ibb.co/h9ljVOzzRTIrakgaDSWvQ/books.png',
    'faux website': 'https://i.ibb.co/puHZ09ELFPdAaMK0HAxqQ/early-work.png',
    'Craigslist': 'https://i.ibb.co/lm5BUxr0dDq73bWoi3vy4w/letter.png',
    'cover letter': 'https://i.ibb.co/lm5BUxr0dDq73bWoi3vy4w/letter.png',
    'sixteen-fifty': 'https://i.ibb.co/lm5BUxr0dDq73bWoi3vy4w/letter.png',
    'Turn5': 'https://i.ibb.co/dtGgrSm7amTRi5jQMVeIw/turn5.png',
    'Xoxide': 'https://i.ibb.co/dtGgrSm7amTRi5jQMVeIw/turn5.png',
    'package design': 'https://i.ibb.co/dyMNhiXFPWPe9og0dbvQ/catalogs.webp',
    'catalogue': 'https://i.ibb.co/dyMNhiXFPWPe9og0dbvQ/catalogs.webp',
    'Product Photographer': 'https://i.ibb.co/FYtVicHKjLDPLW2rcnJ1uA/camera.png',
    'color match': 'https://i.ibb.co/GFvdywApPELXmtrFbxVug/color-match.png',
    'OEM quality': 'https://i.ibb.co/GFvdywApPELXmtrFbxVug/color-match.png',
    'photographed thousands': 'https://i.ibb.co/GFvdywApPELXmtrFbxVug/color-match.png',
    'web designer': 'https://i.ibb.co/ktnHKT8ZgIADpbeByv2bqg/web-design.png',
    'banner': 'https://i.ibb.co/ktnHKT8ZgIADpbeByv2bqg/web-design.png',
    'wireframe': 'https://i.ibb.co/NaZV6rcEwRT55pR12BY0jg/wireframe.png',
    'user testing': 'https://i.ibb.co/m7HfhuQO4Ugr1VteZf6itA/testing.png',
    'Leadnomics': 'https://i.ibb.co/6CxwkYwhhn5ZFHINfdpWA/leadnomics.png',
    'payday loan': 'https://i.ibb.co/HI1bKbZmFYVgs3MyH3wvg/payday.png',
    '95.8%': 'https://i.ibb.co/HI1bKbZmFYVgs3MyH3wvg/payday.png',
    'ninety-five': 'https://i.ibb.co/HI1bKbZmFYVgs3MyH3wvg/payday.png',
    'free lunches': 'https://i.ibb.co/BNsCh8k1bcljKMu1KNg/lunch.gif',
    'interactive haiku': 'https://i.ibb.co/mnDJgS7abSiPjlzk2BxkTA/haiku.png',
    'interactive Haiku': 'https://i.ibb.co/mnDJgS7abSiPjlzk2BxkTA/haiku.png',
    '160/90': 'https://i.ibb.co/aQOvTWfvAwf6m7oyZyGyA/160over90.png',
    '160over90': 'https://i.ibb.co/aQOvTWfvAwf6m7oyZyGyA/160over90.png',
    'Interaction Designer': 'https://i.ibb.co/pch6xhEpFoXxliAGbNnr7Q/designer.png',
    'lots of nights': 'https://i.ibb.co/oP6krDDqPpSgF4AgFrWClw/nights.png',
    'weekends too': 'https://i.ibb.co/oP6krDDqPpSgF4AgFrWClw/nights.png',
    'Kent State': 'https://i.ibb.co/CQ4uTkD6MUBWABKwJIZgA/kent-state.png',
    'mega menus': 'https://i.ibb.co/HXIU3nxuZGqNeEf3WvLfMQ/mega-menu.png',
    'hamburger': 'https://i.ibb.co/vkU8lZmqnOHgheOsK0qtrw/hamburger.png',
    'O3 World': 'https://i.ibb.co/TutCePQB0bSCoMfMTWJbQ/o3.png',
    'agile': 'https://i.ibb.co/TutCePQB0bSCoMfMTWJbQ/o3.png',
    'scrum': 'https://i.ibb.co/7wEKA8duSccOZwImA6jSQ/scrum.png',
    'SEI': 'https://i.ibb.co/InHQKs7BIXoY0onfNxnOg/clients.png',
    'La Colombe': 'https://i.ibb.co/InHQKs7BIXoY0onfNxnOg/clients.png',
    'Vertex': 'https://i.ibb.co/InHQKs7BIXoY0onfNxnOg/clients.png',
    'WOVN': 'https://i.ibb.co/yGJCqkzizxaUxk3R5DCD8g/wovn.png',
    'Workarea': 'https://i.ibb.co/KE8gFA6w4wud1uDArA4YvQ/workarea.png',
    'Gidget': 'https://i.ibb.co/KE8gFA6w4wud1uDArA4YvQ/workarea.png',
    'napkin': 'https://i.ibb.co/KE8gFA6w4wud1uDArA4YvQ/workarea.png',
    'Five Foot Gorilla': 'https://i.ibb.co/lEJetjUt85CTbb24dBTFkA/gorilla.png',
    'FlightPath': 'https://i.ibb.co/XT2eaL5pv1yb49roJqAoA/flightpath.png',
    'bankruptcy': 'https://i.ibb.co/XT2eaL5pv1yb49roJqAoA/flightpath.png',
    'pharmaceutical': 'https://i.ibb.co/XT2eaL5pv1yb49roJqAoA/flightpath.png',
    'WCAG': 'https://i.ibb.co/9EZTgvxttDXOacHzI9axeQ/wcag.gif',
    'Merck': 'https://i.ibb.co/9EZTgvxttDXOacHzI9axeQ/wcag.gif',
    'Cards Against Bad UX': 'https://i.ibb.co/pXU6SpY7MxMKiyfVI976g/cards.gif',
    'jargon': 'https://i.ibb.co/a9toSr99x6NtE5YC7bGnzw/spreadsheet.png',
    'As a shopper': 'https://i.ibb.co/GxZ4jdEHO3IWmhxTrDffCA/perspectives.png',
    'content manager': 'https://i.ibb.co/GxZ4jdEHO3IWmhxTrDffCA/perspectives.png',
    'LiveArea': 'https://i.ibb.co/mZdgz7yElh7nWKuuS8XZ2g/livearea.png',
    'UX Manager': 'https://i.ibb.co/mZdgz7yElh7nWKuuS8XZ2g/livearea.png',
    '$1.2m': 'https://i.ibb.co/mZdgz7yElh7nWKuuS8XZ2g/livearea.png',
    '$235/hr': 'https://i.ibb.co/mZdgz7yElh7nWKuuS8XZ2g/livearea.png',
    'Huge': 'https://i.ibb.co/UATKEet6VtcLkA8rYspjFQ/huge.png',
    'siloed': 'https://i.ibb.co/UATKEet6VtcLkA8rYspjFQ/huge.png',
    'GNC': 'https://i.ibb.co/ijfhJkgMsBKeSl3rIzi0XQ/gnc.png',
    'General Nutrition': 'https://i.ibb.co/ijfhJkgMsBKeSl3rIzi0XQ/gnc.png',
    'mobile-first': 'https://i.ibb.co/ijfhJkgMsBKeSl3rIzi0XQ/gnc.png',
    'Elva': 'https://i.ibb.co/ijfhJkgMsBKeSl3rIzi0XQ/gnc.png',
    'mental notes': 'https://i.ibb.co/ExXeZpPzCwC4QKjx3FpJQ/notes.png',
    'Code and Theory': 'https://i.ibb.co/RTEI5aCcw31fjFzqjBgFEg/code-theory.png',
    'Code & Theory': 'https://i.ibb.co/RTEI5aCcw31fjFzqjBgFEg/code-theory.png',
    'wow factor': 'https://i.ibb.co/IynWY5dNzLniq7vHVgIw/cat.png',
    'Publicis Sapient': 'https://i.ibb.co/OenHCQmGa10wpCzR8o9PtA/publicis.png',
    'Organizational Spaghetti': 'https://i.ibb.co/OenHCQmGa10wpCzR8o9PtA/publicis.png',
    'Team Lead': 'https://i.ibb.co/rR74bLkf1oXV3bGDEfTKohUeICCjc1A/leadership.webp',
    'Pershing X': 'https://i.ibb.co/OenHCQmGa10wpCzR8o9PtA/publicis.png',
    'BNY Mellon': 'https://i.ibb.co/OenHCQmGa10wpCzR8o9PtA/publicis.png',
    'Design Systems': 'https://i.ibb.co/gCcmPMoCAMgckq051lwZg/design-system.png',
    'networking': 'https://i.ibb.co/l4jgO14gEyWyIBEQZho0g/networking.png',
    'RJ45': 'https://i.ibb.co/bQsX24bQkUtx50Q5jMZNg/rj45.png',
    'terminate': 'https://i.ibb.co/bQsX24bQkUtx50Q5jMZNg/rj45.png',
    'cables': 'https://i.ibb.co/PGkVR2sOAfcKk5kkTrnQdw/cables.png',
    'twist parity': 'https://i.ibb.co/3gnCq0a4KbY8MGJyVKyPA/twist.png',
    'sees potential': 'https://i.ibb.co/4Rfyq6Z81S3L6fciCRNsvVqPk8NRA/potential.webp',
    'left-handed': 'https://i.ibb.co/DDw627yH1AKU6rBmxcczM6m1Hxdkg/left-hand.webp',
    'think different': 'https://i.ibb.co/DDw627yH1AKU6rBmxcczM6m1Hxdkg/left-hand.webp',
    'guitar': 'https://i.ibb.co/MyqYv5cS1RLgidsiDWtxpfY4y52WLWA/guitar.webp',
    'photograph': 'https://i.ibb.co/tP1YpWFG1fR6Yh5w77lIvSgR4ldzjTA/photos.webp',
    'Wolfgang': 'https://i.ibb.co/tTTgw7Md1qzgZhKnCs6abK8CIpE00Q/wolfgang.webp',
    'dog': 'https://i.ibb.co/tTTgw7Md1qzgZhKnCs6abK8CIpE00Q/wolfgang.webp',
    'A-list brands': 'https://i.ibb.co/6ftVCi9PiL1q47VskwMbWA/brands.png'
};

const chapters = [
    { id: 0, title: "Hi, I'm Zack", startText: "Hi. I'm Zack." },
    { id: 1, title: "The Impetus", startText: "The above image is something akin" },
    { id: 2, title: "Art School 'Stop-out'", startText: "I didn't graduate from college." },
    { id: 3, title: "Doings of an Autodidact", startText: "I built my first computer" },
    { id: 4, title: "Found On Road Designing", startText: "Alright. Now, where to begin?" },
    { id: 5, title: "Design by Data", startText: "Okay, so Leadnomics was shifty." },
    { id: 6, title: "Enter #AgencyLife", startText: "From here, I desired to move" },
    { id: 7, title: "Becoming a Bona Fide UX Designer", startText: "An elevating experience with O3 World" },
    { id: 8, title: "From Ozone to Warm Workarea", startText: "I had mentioned Agile and Scrum." },
    { id: 9, title: "PHI to NYC to Change Paradigms", startText: "Did I mention I co-founded" },
    { id: 10, title: "Cards Against Bad UX", startText: "A paradigm shift: From Midtown" },
    { id: 11, title: "Small Cog in HUGE Wheel", startText: "At Huge, I couldn't tell you" },
    { id: 12, title: "Heavy Lift Big Gains This is the Whey", startText: "Heavy lift. Big gains." },
    { id: 13, title: "Long Way to the Top", startText: "It's a long way to the top" },
    { id: 14, title: "SeizeTheSpace BonCourage", startText: "Okay, fine. Huge only wanted me" },
    { id: 15, title: "Do the Twist!", startText: "Come on, baby. Let's do the twist." },
    { id: 16, title: "Reason & Resolution", startText: "As an aside, I've been keeping up" }
];

const narrative = `Hi. I'm Zack. [This article is not written with any assistance of AI, but rather instead with genuine earnest—daresay, from the heart. I think. I make. Will work for work.] This is what being a bootstrap startup looks like. When you're the product. When your career is your only venture capital.

The above image is something akin to how I view my career journey to date. [Before I was a UX Designer, I was a Web Designer. Before I was a web designer, I was a Graphic Designer. Before I was a graphic designer, I was a teenager who could draw well and who had a passion for animation.] What is animation? It is the creation of something in motion, something that requires forethought into the next step while maintaining a frame of reference for that which has occurred.

What is UX? [It is that which is in motion. It is that which necessitates forethought into the next step while maintaining a frame of reference for that which has occurred. Essentially, nothing has changed in terms of my natural sensibilities.] But over the last fifteen-plus years, I've had the benefit of expanding and expounding upon these basic skills in forging a meaningful career in the modern age. A non-linear, but carefully curated and considered career path, from homegrown startups to working with A-list brands at a global scale.

I didn't graduate from college. I couldn't afford it. [Pratt Institute of Art was expensive, and loans or financial aid were simply out of reach, though not as simple as it may seem.] At nineteen years old, there wasn't much that I could afford. So I worked in construction and demolition, at the bowling alley, the hardware store, the grocery store, and at the gas station.

At this point, I was already in my twenties, without a degree and with zero applicable skills beyond what I could bull-expletive with my so-called talent. [I attended Pratt from 2002 to 2003, then again from 2004 to 2005. I had a budding passion for graphic design and considered myself, by my own evaluation, an expert with Photoshop and Illustrator, though one does not make the other.] I pursued studies in 3D Animation and Motion Graphics during my time in school.

I survived foundation year—a callback to the foundations of illustration, color theory, compositional study, and other artistic practices. [I only completed my sophomoric year focusing on 3D Animation. Classes included storytelling, storyboarding, animation, and 3D digital modeling. Now, with that future more or less now foregone, the idea of being a web designer had a certain appeal.] With a rough—daresay organic—start as a graphic designer, I had some work to do.

I built my first computer circa 2005 to '06. I immediately installed pirated copies of Adobe Photoshop and Illustrator. [While I didn't study at university, I studied what I saw. Whatever piqued my interest, I looked at intensely.] So, without a college degree or any equivalent experience, I started from absolute scratch.

I studied typography by reading books and examining magazines, and generally observing what I saw wherever I were. [I studied color theory and sought online tutorials that taught me how to master the tools I had at my disposal—my clandestinely acquired Adobe products.] I began to create faux website concepts to gain an understanding of designing for that medium. As the screenshots may suggest, I had lots to learn.

I also learned the proper etiquette towards finding gainful employment. [All this culminated with an interview and subsequent job offer from Xoxide Incorporated, later turned Turn5 Inc, which was the parent company to a number of niche e-commerce businesses operating in a variety of verticals—Beauty, Automotive, Tech.] I found their company through a Craigslist post in the web slash design category.

I can still pull up my original cover letter, which I just looked at and am considering reusing in my current job search endeavors. [Here, I was brought on as a graphic designer, full-time. You have no idea how happy I was.] I was set to make sixteen-fifty an hour plus full benefits, a 401K, and have my own cubicle. I thought I'd made it.

Alright. Now, where to begin? Circa 2007 through 2011. [Okay, so I've just been brought into the fold with a budding home-grown startup. The company had set up its new HQ at a warehouse office facility in Great Valley, PA, about twenty miles outside of Philly.] It was owned and operated by two brothers, one of which wasn't even old enough to drink at the company holiday party.

I had been provided a brand new PC replete with a dual-screen monitor setup and a Canon Rebel DSLR with a kit lens. [I think it's easier to list all my roles and functions via bulleted list. Graphic designer for all web properties, including reskin efforts, banner and display ads, and email marketing.] Graphic designer for all print related initiatives, including package design, catalogue design, and large-format printing needs.

Product Photographer and Image Manipulation specialist, covering all manner of product photography. [Specializing in lighting, establishing systematic product photography protocols for visual uniformity at scale, photo-retouching, as well as requiring technical product knowledge and scrutinizing attention to detail.] Graphic Designer turned Web Designer, responsible for feature development with a specific focus on user experience through wireframe prototyping, user testing, and data-backed solutioning.

The work—AI can probably do much of what I've shared below within minutes, but this was fifteen or so years ago, and thusly everything had to be done manually. [From magazine spreads to comprehensive product catalogs. Not just thousands of parts, but with customization at the heart of what we sold, countless product permutations.] Before your PDP—product detail page—before your printed product catalogue or packaging templates, before your segmented email marketing distributions, before your display ad campaigns, comes your product photography.

This involved comprehensive pre-planning put into any product campaign. [First, we had to coordinate and plan for product shoots, then we had to light it in a way that would allow optimal image manipulation in post production. Then capture multiple frames of reference and various angles.] Then, we had to color match perfectly to mimic OEM quality, even at the alpha-channel level, to ensure our product photography looked consistent through print and digital media alike—RGB, CMYK.

I say we, but for a long while, it was solely myself and eventually another product photographer, shout out to Anthony Caggiano, who owned all aspects of this work. [Collecting gross amounts of overtime working through the weekends. The volume of work eventually necessitated the development of a fully-fledged and funded photography department working in tandem with the installation technicians and the like.] Having passed the torch of photography duties onto a true professional, I was able to focus on email marketing and feature design.

Put simply, working with email and analytical data helped to inform top-level site design changes and influenced the direction we took the mothership. [It was at this point I graduated from graphic designer to web designer. I remember vaguely that the left-rail navigation was more or less baked into the Yahoo Stores platform, and so we were beholden to work around it.] This resulted in features that were often condensed or otherwise forced into place.

I vaguely remember the in-office celebration when that left-rail became optional and thusly quickly removed. [It easily gave us back at least 300 square pixels of above-fold real-estate for feature ideation at every stage of our shopping funnel.] Below are some examples of the wireframe ideation that occurred at this stage for a hypothetical PDP, showing a variety of complex functions.

Beyond just my various design duties was a matter of creating ways of working that benefitted the group, the team. [The company was growing. No longer was it just myself, but an entire team contributing to accrual of design files. This screenshot of server organization and maintenance may have been the impetus of my interest in Information Architecture—aka, sitemaps and content strategy.] In many respects, Turn5 Inc served as my formal education.

I learned first and foremost how to work within a team environment where everyone's role was crucial towards the company's success. [There, I learned the ins and outs and nuance to graphic design, product photography and related production processes, email and display ad marketing, printed packaging and catalogs.] And in the latter half of my nearly four years there, served as a web designer focused on user experience—by the books—as applied to a then forty-million per year ecommerce giant born from a garage somewhere in the suburbs of southeastern Pennsylvania.

Okay, so Leadnomics was shifty. Paradigm shifty, we'll say. [It was a great place to work though. I have lasting friendships with folks I worked with there. Heck, two of them now work at Google.] But our work fed upon the uneducated and disenfranchised in some respects. As the name may suggest, our focus was in lead generation. Our cash cow was in facilitating easy access to high-interest short-term loans, otherwise known as payday loans.

But we had free lunches, regular bonuses, company outings, free snacks, and solid benefits. [Each with our own super thin Apple laptops and the ability to WFH occasionally—circa 2011, FYI.] In short, my job was to make it intuitive and stress-free, daresay pleasant, for one to make catastrophic financial decisions under clandestine duress at a scale in tens of thousands per month.

I had a 95.8% conversion rate with a bounce rate lower than 15% through my form systems. [Meaning, once our visitor clicked into the form funnel, ninety-five-point-eight percent of our users became converted leads. This wasn't magic.] This was the result of introducing Responsive Web Design practices via Twitter's Bootstrap ethos while backed by thoughtful action and solutioning based on analytical data and insights drawn from A/B split-testing of marketing and educational content and UI-UX paradigms.

Also, well-considered and device-friendly form design with efficient validation techniques applied and tested on the daily. [In simple terms, we fashioned a helluva good fishing net. I think working here gave me a true sense of the business world. So much of what we do is driven by necessity and less by what we find ideal.] Tell that to a graphic designer and tell me how that goes.

From here, I desired to move my creative talents into an environment where I was happy to share and expound upon. [There was a period of time between Leadnomics and 160over90 where I was recovering from a catastrophically comminuted clavicle injury.] During my down time, I determined that my best chance at landing an agency job was if I could prove I understood the ins and outs of web design.

So I learned how to code HTML, CSS, and throw in a little JavaScript to make the magic happen. [I did this by concepting an interactive Haiku which communicated in various ways the things I wished to convey. Sometimes the best portfolio piece is the one that shows you can learn anything.] Took a twelve-thousand-dollar pay cut to join One Sixty Over Ninety as an interaction designer in Center City Philadelphia.

An elevating experience with O3 World, a digital product shop based in Fishtown, Philadelphia. [Wireframes at 160over90 fit the workflow at 160over90. Wireframing at O3 World was a different beast which required throwing everything I thought I knew out the window and reverting to the basics.] Here, it was less about impressing our clients. Here, it was all about working with our clients.

Without the pizazz of beautiful grayscale renders of your soon-to-be colored in homepage, we focused on asking the right questions and getting the right feel with our clients. [We were agile in nature and scrum led. We had daily scrums and weekly sprint schedules. We dealt with client feedback organically and responsively as opposed to reactively.] Clients included Vertex SMB, SEI, La Colombe, and WOVN iOS.

I had mentioned Agile and Scrum. Well, say hello to Gidget, our adjunct project manager and scrum master at Workarea, a proprietary SaaS e-commerce platform. [Here, I served as a Senior Visual and UX Designer. Here, we did wireframes differently. Here, we worked in direct partnership with our ever-ready-to-help developers.] Napkin sketches, low-fi mockups, or just a few messages on Slack were all that was needed.

The work was building out our proprietary SaaS E-commerce Platform which we marketed out in typical agency-style to a number of A-list brands. [Using all insights and analytics towards optimizing our platform and expanding functionality to meet demand.] I don't have any work to show from here. I didn't save any of my napkins.

Did I mention I co-founded a two-person strong design agency that existed for about six months before I dissolved it in favor of gaining bona fide NYC-grade agency experience? [My business partner, while brilliant, was unpredictable to say the least. Anyway, here was an idea for an animated slash interactive logo design. Our Way: Stout. Resolute. Strong, and with good humor.] Sometimes you have to kill your darlings, even when the darling is your own company.

FlightPath presented an intriguing opportunity. [Recently emerging from the brink of bankruptcy, the agency had drastically downsized from a bustling office to a sparse handful of core employees. It wasn't a lucrative endeavor. The pay was passable at best.] But for me, the allure lay in the chance to immerse myself in the New York agency scene and gather invaluable experience to propel my career forward.

Despite its tumultuous journey, FlightPath managed to preserve vital relationships with long-standing clients specifically in the pharmaceutical sector—Merck, Zoetis, Charter, and Goya. [Operating in regulated industries, these clients demanded design solutions that not only adhered to WCAG 2.0 AA or even AAA compliance standards but also underwent rigorous scrutiny and approval from legal and regulatory marketing authorities.] I was let go on the day of my one-year annual review.

I had been making a mere eighty-thousand-dollar salary and had been commuting to and from Philadelphia and New York daily. [I was hoping to ask a modest bump in pay and title adjustment given all that I had contributed in the past year as the sole designer on staff. Nope.] This was somewhat bittersweet. While on one hand I was now out of a job, I had now accomplished exactly what I had set out to do. Put in one year towards elevating my experience and professional output and see where that took me.

A paradigm shift: From Midtown to Uptown. From Individual Contributor to UX Manager. [Cards against bad UX? What? What do you do when you're working with a sophisticated client who has a tremendously complex product line and deep inventory?] Who are accustomed to B2B and B2E operations and dealings, and whom while fluent with their industry acumen were completely unfamiliar with the design process?

What do you do when jargon-laden spreadsheets and single-sided meetings net nothing but frustration with the client to the point where they're considering abandoning the contract? [Enter Cards Against Bad UX. All I did was simplify what we asked. To shift the conversation away from technical jargon and towards user-centric thinking.] By providing different perspectives such as As a shopper, As a content manager, or As a guest user, and pairing it with a simple visual, a card, I was able to help our stakeholders empathize with their end-users and focus on their needs and experiences.

This approach not only catalyzed communication but also encouraged collaboration and problem-solving from both sides of the table. [It allowed our client to see the project from various angles and find common ground, ultimately leading to more effective solutions and preventing frustration or contract abandonment.] Sometimes the best design work is the workshop that prevents the bad design from happening.

At LiveArea I was the UX Manager assigned to contracts exceeding one-point-two million dollars. [My hourly billable rate to the client was something like two-thirty-five per hour. Everything I did had a direct impact on the final deliverable.] I managed multiple projects and pitches as well as junior designers while being the primary client-facing resource. I presented findings. I course-corrected when needed. I moved the machine forward.

At Huge, I couldn't tell you what my billable rate was, but I could say this was the first time I had seen a project with at least twenty different people involved, on just the agency side. [At Huge, I was responsible for exploring a single user flow. There were other designers responsible for exploring other individual user flows.] At no point during my time with Huge did I even know there were other designers on that project. To say we were siloed would be a gross understatement.

Being completely candid, I get it. This was a mere contract position. [Huge hired numerous UX contractors to sign on few weeks or months. It was simply about a little bit of work done without any long-term commitments.] I would be thrilled to take on a more robust contract, but hopefully with a different and more vested manager this time around. Or, may I be the manager?

Heavy lift. Big gains. This is the whey. [Enter Elva Design Group, now just Elva, a boutique design agency based in San Francisco specializing in Shopify e-commerce builds, and I was just resourced to their newest client, General Nutrition Centers, GNC.] I once joked during an interview with Amazon that I never take anything but mental notes. Amazon now thinks I don't take notes. I take notes.

I was responsible for leading discovery and requirements gathering. [GNC Leadership wanted to shake things up, so we fashioned a mobile-first navigation schema with conventional fall-backs and failsafes.] To cope with the scope of work. I've clearly written quite a bit on this subject already.

Please do peruse the slides above at your leisure, but the general gist is that I'm comfortable in diving into any phase of the user experience design process. [Be it in research, be it in discovery, be it through extensive wireframing, or be it in final design. Moreover, I'm comfortable in not being comfortable.] We didn't have the time, infrastructure, or budget to perform exhaustive foolproof design, but rather execute foolhardy decisions in favor of shaking things up as directed by our client's C-Suite leadership.

The result: GNC was able to relaunch their brand and reinvigorate its new or returning consumers' interest and loyalty. [By focusing their efforts on a modernized and optimized online shopping experience, even in lieu of continued shuttering of physical retail locations.] No there isn't a chapter thirteen. I'm from New York. We don't play those games.

It's a long way to the top if you want to rock and roll. [In this chapter I won't delve into the specifics of the project at Code and Theory, but rather focus on the broader context and my experiences during my time there.] Imagine: You've been diligently working towards your goals, making significant strides in your career. From commuting daily between PHI and NYC to transitioning into the New York agency scene.

You had grown from an Individual Contributor to a UX Manager with a six-figure salary. [With each accomplishment you set your sights higher, ultimately landing an interview with Code and Theory. Imagine that.] I interviewed for an ACD, Interactive position and was immediately hired on a freelance basis as a Senior Designer with the intention of fulfilling the ACD responsibilities.

As part of the team working on a project for a top social media brand, I quickly proved my worth and was transitioned to full-time employment. [The project was led by a Directly Responsible Individual, DRI, but whom accepted a Director-level position elsewhere three months into the project.] There were also the departure of several key team members including senior strategists and technologists which placed additional responsibilities on my shoulders.

Requiring me to provide guidance in UX, Strategy, and Development while also serving as a people manager myself with a junior-level associate under my purview. [Speaking candidly, here we had an immeasurable opportunity to influence THE platform for influencers. While good design is the end goal, it shouldn't be the driving force in developing an informational and business-minded content platform at a global scale.] Instead of trying to solve the client's problems, we focused on wow factor and interactive moments.

UX at Code And Theory was essentially decorative. [Besides resourcing hurdles, there were issues spanning practicality and pragmatism, suffice to say.] Despite offering to improve internal education initiatives and providing proactive feedback, submitting a post mortem as requested, I was let go from Code and Theory without explanation. It was a challenging experience but one that taught me valuable lessons about the realities of working in a large agency environment.

Okay, fine. Huge only wanted me for a little bit. Code and Theory wasn't ready for me. [I don't necessarily care to be a boomerang in my career. Now, where can I go that won't be a lateral or backwards step?] Enter Publicis Sapient, a Digital Transformation Company, at 375 Hudson St, New York City.

I was a remote employee but chose to be a consistent in-office presence. [I can tell you that I spent a full year here working in the Financial Services sector serving BNY Mellon—Pershing X Advisory Experience Platform.] Publicis Sapient wasn't without its imperfections either. Suffice to say there were some organizational and operational aspects that could be improved upon, dialogue and communication not withstanding.

A term I've coined to describe my experience here would be Organizational Spaghetti. [I became the de facto Team Lead and Product Owner. I led research and discovery efforts. I led client workshops. I led design and prototype development and testing.] I collaborated across multiple concurrent tracks while providing mentorship and guidance to junior and associate designers. Also serving as team lead amongst peers at the senior level.

I successfully negotiated on numerous occasions company-paid lunches for my in-office workshops. [I provided extensive industry research, product heuristic and technical analysis, as well as future-state concept ideation.] I was responsible for organizing client and team workshops in refactoring Pershing X entire data and design paradigm. Yes, I have extensive experience with both Design Systems and style guides. Ask me the difference.

I set my team up for success daily, conducting exhaustive research and socializing of knowledge. [While a remote employee, I still opted to be a consistent presence in the office. Lead by example, being an intellectually invested, creatively charged, hands-on type of leader.] My efforts were directly responsible for securing a contract extension leading into the next fiscal year.

It was directly responsible for influencing the overall direction of the now live product line launched by Pershing X. [That just two years ago was only a thought. This was the most sophisticated work I've done in my career.] And despite putting an incredible effort into it, corporate will do what corporate will do. I was a mere number that was either on the plus or minus side of the red line.

I was Team Lead to two colleagues, one associate, one senior, who were currently pursuing and or completing their Masters degrees. [My academic counterparts. Well, I was laid off or otherwise separated amicably as my exit contract states.] I've faced untold challenges in the time since, many more humbling than I can describe here. But here's what my teammates had to say:

Zack has a deep connection to emotions, imagination, and sensitivity—the quintessential idealist. [His greatest strength is his depth of sensitivity and empathy which allows him to give voice to human connections in a way that works with people on a profound level.] Zack brings fresh perspective to things when I felt in a rut—a great person to work with. Christopher Bayle, ACD UX, Publicis Sapient.

Zack is one of the most talented, hard-working, and knowledgeable individuals I have had the pleasure of working with. [He has truly been excellent, trying to foster communication not only between us but with the whole team, to set them up for success. He always gives his best and more.] I really enjoy working with him and I feel he should be recognized by his tremendous effort and for being such a great team player. Andrés Moros, MPS, Sr. UX Designer, Publicis Sapient.

Come on, baby. Let's do the twist. [In case the headline doesn't make sense, in the world of Low Voltage Data Installation, some terminations require a very specific twist parity, lest you run risk of signal impedance or interference.] Got it? Good. Suffice to say, I've been networking. Pun intended.

I've taken on sub-contractor gigs and learned new hands-on skills. [I can now terminate an RJ45 in 30 to 45 seconds per. I can run cables and install security systems and setup indoor outdoor digital displays. No problem.] You must maintain the twist parity lest you get signal impedance. Behind the scenes, cable management.

My passion for creative output is unrelenting though I'm using different parts of my brain to make due. [I still have my eyes set on elevating my career in a paradigm-changing way. Maybe someone out there sees potential.] Meanwhile, got mouths to feed.

As an aside, I've been keeping up with the latest happenings in the world of Artificial Intelligence. [I am absolutely unequivocally NOT worried about the thinking machines taking over jobs or the world for that matter.] AI will never have the patience required, nor physical dexterity, to run and terminate physical ethernet cables or fiber optic lines. Never. If it isn't clear, this is written in jest.

I truly try not to be the type of person to try to sway your mind one way or another, so I'll refrain from writing any sort of conclusion. [If my photography or music are any indicator, it's that my true talent, my special sauce, is in presenting ideas—yours, mine, theirs, whomever—in a way that uplifts and encourages your imagination.] Put simply, I yearn to make folks wonder and I do this with capable hands.

I'm left-handed. I think different. [I play guitar, take photographs, make people wonder. Meet Wolfgang, my dog. Dog-friendly offices welcome. Remote hybrid preferred.] Sincerest of thanks to anyone who took the time to read through my story. Twenty years of work condensed into twenty minutes of reading. Five minutes if you just skim the photos.`;

const state = {
    expandedBrackets: new Set(),
    mouseX: 0,
    mouseY: 0,
    currentImageUrl: null,
    layoutMode: 'fullview',
    currentSentenceIndex: -1,
    currentChapterIndex: 0,
    allSentenceElements: [],
    chapterStartIndices: [],
    lightMode: false
};

let mouseX = 0;
let mouseY = 0;

let textParallaxX = 0;
let textParallaxY = 0;
let targetTextParallaxX = 0;
let targetTextParallaxY = 0;

const phraseRegexMap = new Map();
for (const phrase of Object.keys(imageMap)) {
    const escapedPhrase = phrase.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    phraseRegexMap.set(phrase, new RegExp(`\\b${escapedPhrase}\\b`, 'gi'));
}

function findChapterStartIndex(chapterId) {
    const chapter = chapters.find(c => c.id === chapterId);
    if (!chapter) return 0;
    
    const startIndex = narrative.indexOf(chapter.startText);
    if (startIndex === -1) return 0;
    
    const textBeforeChapter = narrative.substring(0, startIndex);
    const sentencesBefore = textBeforeChapter.split(/[.!?]+\s+/).filter(s => s.trim().length > 0);
    
    return sentencesBefore.length;
}

function getCurrentChapter() {
    if (state.allSentenceElements.length === 0) return 0;
    
    for (let i = chapters.length - 1; i >= 0; i--) {
        const chapterStartIndex = state.chapterStartIndices[i];
        if (state.currentSentenceIndex >= chapterStartIndex) {
            return i;
        }
    }
    return 0;
}

function updateCurrentChapterDisplay() {
    const currentChapter = getCurrentChapter();
    const chapterText = document.getElementById('currentChapterText');
    if (chapterText && chapters[currentChapter]) {
        chapterText.textContent = `Ch. ${currentChapter + 1}: ${chapters[currentChapter].title}`;
    }
}

function parseNarrative(text) {
    const parts = [];
    let idCounter = 0;
    
    const segments = text.split(/(\[|\])/);
    
    let inBracket = false;
    let bracketId = null;
    
    for (let i = 0; i < segments.length; i++) {
        const segment = segments[i];
        
        if (segment === '[') {
            inBracket = true;
            bracketId = idCounter++;
            parts.push({
                type: 'bracket',
                id: bracketId,
                content: ''
            });
        } else if (segment === ']') {
            inBracket = false;
            bracketId = null;
        } else if (segment.length > 0) {
            if (inBracket && bracketId !== null) {
                const bracket = parts.find(p => p.id === bracketId);
                if (bracket) {
                    bracket.content = segment.trim();
                }
            } else {
                const sentences = segment.split(/(?<=[.!?])\s+/);
                sentences.forEach(sentence => {
                    if (sentence.trim()) {
                        parts.push({
                            type: 'sentence',
                            id: idCounter++,
                            text: sentence.trim()
                        });
                    }
                });
            }
        }
    }
    
    return parts;
}

function wrapImageTriggers(text) {
    let wrapped = text;
    for (const [phrase, url] of Object.entries(imageMap)) {
        const regex = phraseRegexMap.get(phrase);
        if (regex) {
            wrapped = wrapped.replace(regex, `<span class="image-trigger" data-image="${url}">$&</span>`);
        }
    }
    return wrapped;
}

function preloadImages() {
    const imageUrls = [...new Set(Object.values(imageMap))];
    imageUrls.forEach(url => {
        const img = new Image();
        img.src = url;
    });
}

function showCursorImage(imageUrl) {
    state.currentImageUrl = imageUrl;
    
    if (state.layoutMode === 'fullview') {
        const cursorImage = document.getElementById('cursorImage');
        const cursor = document.getElementById('cursor');
        
        cursorImage.src = imageUrl;
        cursorImage.classList.add('active');
        cursor.classList.add('has-image');
    } else if (state.layoutMode === 'splitview') {
        const hoverImage = document.getElementById('hoverImage');
        const hoverImageImg = document.getElementById('hoverImageImg');
        
        hoverImageImg.src = imageUrl;
        hoverImage.classList.add('active');
    }
}

function hideCursorImage() {
    state.currentImageUrl = null;
    
    if (state.layoutMode === 'fullview') {
        const cursorImage = document.getElementById('cursorImage');
        const cursor = document.getElementById('cursor');
        
        cursorImage.classList.remove('active');
        cursorImage.classList.remove('enlarged');
        cursor.classList.remove('has-image');
    } else if (state.layoutMode === 'splitview') {
        const hoverImage = document.getElementById('hoverImage');
        hoverImage.classList.remove('active');
    }
}

function toggleImageSize() {
    if (!state.currentImageUrl || state.layoutMode !== 'fullview') return;
    
    const cursorImage = document.getElementById('cursorImage');
    cursorImage.classList.toggle('enlarged');
}

function handleScroll(event) {
    if (scrollCooldownActive) return;
    
    const scrollDelta = event.deltaY;
    
    if (Math.abs(scrollDelta) >= SCROLL_THRESHOLD) {
        scrollCooldownActive = true;
        
        if (scrollDelta > 0) {
            nextSentence();
        } else {
            previousSentence();
        }
        
        setTimeout(() => {
            scrollCooldownActive = false;
        }, SCROLL_COOLDOWN);
    }
    
    event.preventDefault();
}

function nextSentence() {
    if (state.allSentenceElements.length === 0) return;
    
    state.currentSentenceIndex = (state.currentSentenceIndex + 1) % state.allSentenceElements.length;
    highlightSentence(state.currentSentenceIndex);
}

function previousSentence() {
    if (state.allSentenceElements.length === 0) return;
    
    state.currentSentenceIndex = (state.currentSentenceIndex - 1 + state.allSentenceElements.length) % state.allSentenceElements.length;
    highlightSentence(state.currentSentenceIndex);
}

function highlightSentence(index) {
    const sentence = state.allSentenceElements[index];
    if (!sentence) return;
    
    state.allSentenceElements.forEach(s => {
        s.classList.remove('active');
        s.classList.add('dimmed');
    });
    
    sentence.classList.add('active');
    sentence.classList.remove('dimmed');
    
    updateScrollProgress();
    updateChapterDropdown();
    updateCurrentChapterDisplay();
    
    sentence.scrollIntoView({
        behavior: 'smooth',
        block: 'center'
    });
    
    const imageTrigger = sentence.querySelector('.image-trigger');
    if (imageTrigger) {
        const imageUrl = imageTrigger.getAttribute('data-image');
        if (imageUrl) {
            showCursorImage(imageUrl);
        }
    } else {
        hideCursorImage();
    }
}

function goToChapter(chapterId) {
    const startIndex = state.chapterStartIndices[chapterId];
    if (startIndex !== undefined) {
        state.currentSentenceIndex = startIndex;
        highlightSentence(startIndex);
        closeChapterDropdown();
    }
}

function nextChapter() {
    const currentChapter = getCurrentChapter();
    if (currentChapter < chapters.length - 1) {
        goToChapter(currentChapter + 1);
    }
}

function previousChapter() {
    const currentChapter = getCurrentChapter();
    if (currentChapter > 0) {
        goToChapter(currentChapter - 1);
    }
}

function updateScrollProgress() {
    const progressBar = document.getElementById('scrollProgressBar');
    
    if (!progressBar) return;
    
    const total = state.allSentenceElements.length;
    const current = state.currentSentenceIndex;
    const progress = ((current + 1) / total) * 100;
    
    // Check if we're in mobile splitview mode
    const isMobile = window.innerWidth <= 768;
    const isSplitview = state.layoutMode === 'splitview';
    
    if (isMobile && isSplitview) {
        progressBar.style.width = `${progress}%`;
        progressBar.style.height = '100%';
    } else {
        progressBar.style.height = `${progress}%`;
        progressBar.style.width = '100%';
    }
}

function updateParallax() {
    const viewportCenterX = window.innerWidth / 2;
    const viewportCenterY = window.innerHeight / 2;
    
    const mouseOffsetX = (mouseX - viewportCenterX) / viewportCenterX;
    const mouseOffsetY = (mouseY - viewportCenterY) / viewportCenterY;
    
    targetTextParallaxX = mouseOffsetX * 20 * TEXT_PARALLAX_STRENGTH;
    targetTextParallaxY = mouseOffsetY * 20 * TEXT_PARALLAX_STRENGTH;
    
    textParallaxX += (targetTextParallaxX - textParallaxX) * PARALLAX_DAMPING;
    textParallaxY += (targetTextParallaxY - textParallaxY) * PARALLAX_DAMPING;
    
    const textLayer = document.getElementById('textLayer');
    
    if (textLayer) {
        textLayer.style.transform = `translate3d(${textParallaxX}px, ${textParallaxY}px, 0)`;
    }
    
    requestAnimationFrame(updateParallax);
}

function buildChapterDropdown() {
    const dropdownList = document.getElementById('chapterDropdownList');
    dropdownList.innerHTML = '';
    
    chapters.forEach(chapter => {
        const startIndex = state.chapterStartIndices[chapter.id];
        const endIndex = chapter.id < chapters.length - 1 ? state.chapterStartIndices[chapter.id + 1] : state.allSentenceElements.length;
        const totalSentences = endIndex - startIndex;
        
        const li = document.createElement('li');
        li.className = 'chapter-item';
        li.dataset.chapterId = chapter.id;
        li.innerHTML = `
            <span class="chapter-item-number">${String(chapter.id + 1).padStart(2, '0')}</span>
            <span class="chapter-item-title">${chapter.title}</span>
            <span class="chapter-item-progress">${totalSentences}</span>
        `;
        
        li.addEventListener('click', () => {
            goToChapter(chapter.id);
        });
        
        dropdownList.appendChild(li);
    });
}

function updateChapterDropdown() {
    const currentChapter = getCurrentChapter();
    const items = document.querySelectorAll('.chapter-item');
    
    items.forEach(item => {
        const chapterId = parseInt(item.dataset.chapterId);
        if (chapterId === currentChapter) {
            item.classList.add('active');
        } else {
            item.classList.remove('active');
        }
    });
}

function toggleChapterDropdown() {
    const brand = document.getElementById('brandLogo');
    const dropdown = document.getElementById('chapterDropdown');
    
    brand.classList.toggle('open');
    dropdown.classList.toggle('open');
}

function closeChapterDropdown() {
    const brand = document.getElementById('brandLogo');
    const dropdown = document.getElementById('chapterDropdown');
    
    brand.classList.remove('open');
    dropdown.classList.remove('open');
}

function toggleTheme() {
    state.lightMode = !state.lightMode;
    document.body.classList.toggle('light-mode');
    
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.textContent = state.lightMode ? '🌙' : '☀️';
}

function render() {
    const streamEl = document.getElementById('stream');
    const parsedContent = parseNarrative(narrative);
    
    const fragment = document.createDocumentFragment();
    state.allSentenceElements = [];
    
    let sentenceCount = 0;
    
    chapters.forEach(chapter => {
        state.chapterStartIndices[chapter.id] = findChapterStartIndex(chapter.id);
    });
    
    let currentChapterId = 0;
    
    parsedContent.forEach(part => {
        if (part.type === 'sentence') {
            while (currentChapterId < chapters.length - 1 && 
                   sentenceCount >= state.chapterStartIndices[currentChapterId + 1]) {
                currentChapterId++;
            }
            
            if (sentenceCount > 0 && state.chapterStartIndices.includes(sentenceCount)) {
                const chapterIndex = state.chapterStartIndices.indexOf(sentenceCount);
                const chapter = chapters[chapterIndex];
                if (chapter) {
                    const chapterBreak = document.createElement('div');
                    chapterBreak.className = 'chapter-break';
                    chapterBreak.dataset.chapterId = chapter.id;
                    chapterBreak.innerHTML = `
                        <span class="chapter-number">Chapter ${String(chapter.id + 1).padStart(2, '0')}</span>
                        <span class="chapter-title">${chapter.title}</span>
                    `;
                    chapterBreak.addEventListener('click', () => {
                        goToChapter(chapter.id);
                    });
                    fragment.appendChild(chapterBreak);
                }
            }
            
            const span = document.createElement('span');
            span.className = 'sentence';
            span.dataset.sentenceIndex = sentenceCount;
            span.style.cursor = 'pointer';
            
            const wrappedText = wrapImageTriggers(part.text);
            span.innerHTML = wrappedText + ' ';
            
            span.addEventListener('mouseenter', () => {
                const index = parseInt(span.dataset.sentenceIndex);
                state.allSentenceElements.forEach((s, i) => {
                    if (i === index) {
                        s.style.opacity = '0.7';
                    } else {
                        s.style.opacity = '0.25';
                    }
                });
            }, { passive: true });
            
            span.addEventListener('mouseleave', () => {
                state.allSentenceElements.forEach(s => {
                    s.style.opacity = '';
                });
            }, { passive: true });
            
            span.addEventListener('click', () => {
                const index = parseInt(span.dataset.sentenceIndex);
                state.currentSentenceIndex = index;
                highlightSentence(index);
            });
            
            state.allSentenceElements.push(span);
            sentenceCount++;
            fragment.appendChild(span);
        } else if (part.type === 'bracket') {
            const isExpanded = state.expandedBrackets.has(part.id);
            
            const trigger = document.createElement('button');
            trigger.className = 'bracket-trigger' + (isExpanded ? ' expanded' : '');
            trigger.textContent = '[' + (isExpanded ? '−' : '+') + ']';
            
            trigger.addEventListener('click', () => {
                if (state.expandedBrackets.has(part.id)) {
                    state.expandedBrackets.delete(part.id);
                } else {
                    state.expandedBrackets.add(part.id);
                }
                render();
            });
            
            fragment.appendChild(trigger);
            
            if (isExpanded) {
                const content = document.createElement('span');
                content.className = 'bracket-content';
                content.textContent = ' ' + part.content + ' ';
                fragment.appendChild(content);
            }
        }
    });
    
    streamEl.innerHTML = '';
    streamEl.appendChild(fragment);
    
    buildChapterDropdown();
    attachImageTriggerListeners();
}

function attachImageTriggerListeners() {
    const stream = document.getElementById('stream');
    
    stream.addEventListener('mouseover', handleImageHover, { passive: true });
    stream.addEventListener('mouseout', handleImageOut, { passive: true });
}

function handleImageHover(e) {
    const trigger = e.target.closest('.image-trigger');
    if (trigger) {
        const imageUrl = trigger.getAttribute('data-image');
        if (imageUrl) {
            showCursorImage(imageUrl);
        }
    }
}

function handleImageOut(e) {
    const trigger = e.target.closest('.image-trigger');
    if (trigger && !e.relatedTarget?.closest('.image-trigger')) {
        hideCursorImage();
    }
}

const cursor = document.getElementById('cursor');
const cursorImage = document.getElementById('cursorImage');
let cursorX = 0;
let cursorY = 0;
let targetX = 0;
let targetY = 0;

function updateCursor() {
    cursorX += (targetX - cursorX) * CURSOR_SMOOTHING;
    cursorY += (targetY - cursorY) * CURSOR_SMOOTHING;
    
    cursor.style.left = `${cursorX}px`;
    cursor.style.top = `${cursorY}px`;
    
    cursorImage.style.left = `${cursorX}px`;
    cursorImage.style.top = `${cursorY}px`;
    
    requestAnimationFrame(updateCursor);
}

document.addEventListener('mousemove', (e) => {
    targetX = e.clientX;
    targetY = e.clientY;
    mouseX = e.clientX;
    mouseY = e.clientY;
}, { passive: true });

document.addEventListener('mouseover', (e) => {
    if (e.target.matches('a, button, .bracket-trigger, input[type="range"], .chapter-break, .chapter-item')) {
        cursor.classList.add('hovering');
        if (e.target.matches('button, a')) {
            cursor.classList.add('pointer');
        }
    }
});

document.addEventListener('mouseout', (e) => {
    if (e.target.matches('a, button, .bracket-trigger, input[type="range"], .chapter-break, .chapter-item')) {
        cursor.classList.remove('hovering');
        cursor.classList.remove('pointer');
    }
});

const curveSlider = document.getElementById('curveSlider');
curveSlider.addEventListener('input', (e) => {
    const value = parseFloat(e.target.value);
    document.documentElement.style.setProperty('--curve-k', value);
});

const layoutToggle = document.getElementById('layoutToggle');
const layoutIcon = layoutToggle.querySelector('.layout-icon');
const brandLogo = document.getElementById('brandLogo');
const themeToggle = document.getElementById('themeToggle');

function updateLayoutIcon() {
    if (state.layoutMode === 'fullview') {
        layoutIcon.className = 'layout-icon fullview';
    } else {
        layoutIcon.className = 'layout-icon splitview';
    }
}

brandLogo.addEventListener('click', () => {
    toggleChapterDropdown();
});

themeToggle.addEventListener('click', () => {
    toggleTheme();
});

document.addEventListener('click', (e) => {
    const dropdown = document.getElementById('chapterDropdown');
    const brand = document.getElementById('brandLogo');
    
    if (!brand.contains(e.target) && !dropdown.contains(e.target)) {
        closeChapterDropdown();
    }
});

document.getElementById('prevSentenceBtn').addEventListener('click', () => {
    previousSentence();
});

document.getElementById('nextSentenceBtn').addEventListener('click', () => {
    nextSentence();
});

document.getElementById('prevChapterBtn').addEventListener('click', () => {
    previousChapter();
});

document.getElementById('nextChapterBtn').addEventListener('click', () => {
    nextChapter();
});

layoutToggle.addEventListener('click', () => {
    // Hide current images before switching
    hideCursorImage();
    
    state.layoutMode = state.layoutMode === 'fullview' ? 'splitview' : 'fullview';
    
    document.body.classList.remove('layout-fullview', 'layout-splitview');
    document.body.classList.add(`layout-${state.layoutMode}`);
    
    updateLayoutIcon();
    
    // Re-show image if there's an active sentence with an image trigger
    if (state.currentSentenceIndex >= 0) {
        const sentence = state.allSentenceElements[state.currentSentenceIndex];
        if (sentence) {
            const imageTrigger = sentence.querySelector('.image-trigger');
            if (imageTrigger) {
                const imageUrl = imageTrigger.getAttribute('data-image');
                if (imageUrl) {
                    setTimeout(() => showCursorImage(imageUrl), 100);
                }
            }
        }
    }
    
    document.body.style.transition = 'all 0.5s cubic-bezier(0.25, 1, 0.5, 1)';
    setTimeout(() => {
        document.body.style.transition = '';
    }, 500);
});

document.addEventListener('DOMContentLoaded', () => {
    preloadImages();
    render();
    updateCursor();
    updateParallax();
    
    document.body.classList.add(`layout-${state.layoutMode}`);
    updateLayoutIcon();
    
    window.addEventListener('wheel', handleScroll, { passive: false });
    
    window.addEventListener('resize', () => {
        updateScrollProgress();
    });
    
    document.addEventListener('keydown', (e) => {
        if (e.code === 'Space') {
            e.preventDefault();
            if (!spacebarPressed) {
                toggleImageSize();
                spacebarPressed = true;
            }
        }
        
        switch(e.key) {
            case 'ArrowDown':
            case 'j':
                e.preventDefault();
                nextSentence();
                break;
            case 'ArrowUp':
            case 'k':
                e.preventDefault();
                previousSentence();
                break;
            case '[':
                e.preventDefault();
                previousChapter();
                break;
            case ']':
                e.preventDefault();
                nextChapter();
                break;
            case 'l':
                layoutToggle.click();
                break;
            case 'Home':
                e.preventDefault();
                if (state.allSentenceElements.length > 0) {
                    state.currentSentenceIndex = 0;
                    highlightSentence(0);
                }
                break;
            case 'End':
                e.preventDefault();
                if (state.allSentenceElements.length > 0) {
                    state.currentSentenceIndex = state.allSentenceElements.length - 1;
                    highlightSentence(state.currentSentenceIndex);
                }
                break;
            case 'Escape':
                e.preventDefault();
                closeChapterDropdown();
                break;
        }
    });
    
    document.addEventListener('keyup', (e) => {
        if (e.code === 'Space') {
            spacebarPressed = false;
        }
    });
    
    if (state.allSentenceElements.length > 0) {
        state.currentSentenceIndex = 0;
        highlightSentence(0);
    }
    
    console.log('✓ Twenty Years of Bootstrap Design · Zack Gort');
    console.log('💡 Fullview: Cursor image preview (spacebar to enlarge)');
    console.log('💡 Splitview: Image on right side (L key to toggle)');
    console.log('💡 Navigation: Scroll, ↑/↓ (j/k), [ ] for chapters');
    console.log('💡 Click logo for chapter menu');
});
    </script>
</body>
</html>
